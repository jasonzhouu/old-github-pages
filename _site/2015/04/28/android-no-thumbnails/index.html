<!DOCTYPE html>
<html lang="en-us">

  <head>
  <link href="http://gmpg.org/xfn/11" rel="profile">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta http-equiv="content-type" content="text/html; charset=utf-8">

  <!-- Enable responsiveness on mobile devices-->
  <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1">

  

  
  <title>
    
      Android: Preventing Gallery thumbnails creation &middot; 周宇盛的博客
    
  </title>

  <!-- CSS -->
  <link rel="stylesheet" href="/public/css/poole.css">
  <link rel="stylesheet" href="/public/css/syntax.css">
  <link rel="stylesheet" href="/public/css/lanyon.css">
  <link rel="stylesheet" href="//fonts.googleapis.com/css?family=PT+Serif:400,400italic,700%7CPT+Sans:400">

  <!-- Icons -->
  <link rel="apple-touch-icon-precomposed" sizes="144x144" href="/public/apple-touch-icon-precomposed.png">
  <link rel="shortcut icon" href="/public/favicon.ico">

  <!-- RSS -->
  <link rel="alternate" type="application/rss+xml" title="RSS" href="/atom.xml">
</head>


  <body class="theme-base-08">

    

    

    <!-- Target for toggling the sidebar `.sidebar-checkbox` is for regular
     styles, `#sidebar-checkbox` for behavior. -->
<input type="checkbox" class="sidebar-checkbox" id="sidebar-checkbox">

<!-- Toggleable sidebar -->
<div class="sidebar" id="sidebar">
  <div class="sidebar-item">
    <p>A blog made from an IT lover about IT and other stuff (insert madness here). Based on the awesome <a href="https://github.com/poole/lanyon" target="_blank">Lanyon</a> theme, made by <a href="https://twitter.com/mdo" target="_blank">@mdo</a>.</p>
  </div>

  <nav class="sidebar-nav">
    <a class="sidebar-nav-item" href="/">Home</a>

    

    
    
      
        
      
    
      
        
      
    
      
        
          <a class="sidebar-nav-item" href="/about/">About</a>
        
      
    
      
    

    <a class="sidebar-nav-item" href="https://github.com/jasonzhouu/jasonzhouu.github.io">GitHub project</a>
    <span class="sidebar-nav-item">Currently v1.0.3</span>
  </nav>

  <div class="sidebar-item">
    <p>
      &copy; 2016. All rights reserved.
    </p>
  </div>
</div>


    <!-- Wrap is the content to shift when toggling the sidebar. We wrap the
         content to avoid any CSS collisions with our real content. -->
    <div class="wrap">
      <div class="masthead">
        <div class="container">
          <h3 class="masthead-title">
            <a href="/" title="Home">周宇盛的博客</a>
            <small>网页制作 学习笔记 读书笔记</small>
          </h3>
          

        </div>
      </div>

      <div class="container content">
        <div class="post">
  <h1 class="post-title">Android: Preventing Gallery thumbnails creation</h1>
  <span class="post-date">28 Apr 2015</span>
  <p>I’m really having an hard time in this period (<strong><em>exams, duh</em></strong>) but considering
the fact I’m having more views that I ever expected,
I’m gonna drop something useful here.</p>

<p>Don’t worry, <em>long posts</em> with <strong><em>many informatics technical stuff</em></strong> are
already in background.
I’m thinking about a <strong>server-related tutorial series</strong>, I suppose people will
enjoy.</p>

<p>Anyways, back to the topic.</p>

<h2 id="what-do-you-mean-in-the-title">What do you mean in the title?</h2>
<p>Let’s be honest, <strong>Android OS</strong> can’t be perfect. We already know this.
But there’s lot of customization avaible, which makes it my favourite mobile OS
(<em>for now… But I think/hope this won’t change</em>).
Anyways, I can detect with <a href="https://play.google.com/store/apps/details?id=eu.thedarken.sdm">SD Maid</a>
about <strong><em>1.8 GB</em></strong> of <em>Stock Gallery thumbnails</em>. And that’s a big bunch of crap.
(<strong>PRO TIP</strong>: visit <a href="http://darken.eu/">darken’s website</a> or take a look to his
<a href="https://plus.google.com/u/0/116634499773478773276/">G+</a>)</p>

<h2 id="why-this-happens">Why this happens?</h2>
<p>Actually, Android just tries to speed-up the Gallery (in my case, <strong>Google+ Photos</strong>
app) by creating a local preview that can be loaded really fast by gallery apps…
However, this creates the <em>junk</em> I told before.</p>

<h2 id="any-fixes">Any fixes?</h2>
<p>Yeah, the title would be different if it wasn’t like this.
However, this requires a mobile with a <strong><em>custom recovery</em></strong>
(<em>like <a href="http://clockworkmod.com/rommanager">ClockWorkMod</a> or <a href="http://teamw.in/Devices/">TWRP</a></em>)
and some <em>Android/Linux OS</em> knowledge.
(At least, try to understand what follows next.)</p>

<h2 id="lets-go">Let’s go!</h2>
<p>The idea is to make impossible to create new thumbnails; so, why not deleting the
thumbnails and make the folder to be impossible to access?
Exactly, this will make the trick.
Now, reboot your phone in <em>recovery mode</em> and open your shell (in <em>TWRP</em> there’s
one that can be runned in recovery, else connect your phone to your PC and use
an <em>adb shell</em>… check that you’re using <strong>root</strong> with <em>whoami</em>)</p>

<figure class="highlight"><pre><code class="language-bash" data-lang="bash"><span class="nb">cd</span> /sdcard <span class="c"># Should exist as fallback... anyways, getting in your main memory folder</span>
<span class="nb">cd </span>DCIM <span class="c"># Entering photos folder, where thumbnails are</span>
rm -f .thumbnails/<span class="k">*</span> <span class="c"># Removing all thumbnails</span>
chmod 000 .thumbnails <span class="c"># Making the thumbnail folder not accessible anymore</span></code></pre></figure>

<p>Done! Now the thumbnails in the Gallery app will be generated on the fly… and you will have some free memory now.
That’s all for now, folks!
Wait for the <em>tutorial series</em>.</p>

</div>




<!-- AddToAny BEGIN -->
<div class="a2a_kit a2a_kit_size_32 a2a_default_style">
<a class="a2a_dd" href="https://www.addtoany.com/share_save"></a>
<a class="a2a_button_facebook"></a>
<a class="a2a_button_twitter"></a>
<a class="a2a_button_google_plus"></a>
</div>
<script type="text/javascript" src="//static.addtoany.com/menu/page.js"></script>
<!-- AddToAny END -->



<div class="comments">
	<div id="disqus_thread"></div>
	<script type="text/javascript">

	    var disqus_shortname = 'jasonzhouu';

	    (function() {
	        var dsq = document.createElement('script'); dsq.type = 'text/javascript'; dsq.async = true;
	        dsq.src = '//' + disqus_shortname + '.disqus.com/embed.js';
	        (document.getElementsByTagName('head')[0] || document.getElementsByTagName('body')[0]).appendChild(dsq);
	    })();

	</script>
	<noscript>Please enable JavaScript to view the <a href="http://disqus.com/?ref_noscript">comments powered by Disqus.</a></noscript>
</div>


<div class="related">
  <h2>Related Posts</h2>
  <ul class="related-posts">
    
      <li>
        <h3>
        
          <a href="/2015/07/25/usb-networking-on-alarm-bbb/">
        
            ArchLinuxARM on BeagleBone Black: getting network working over USB
            <small>25 Jul 2015</small>
          </a>
        </h3>
      </li>
    
      <li>
        <h3>
        
          <a href="/2015/04/13/youtube-html5-on-firefox/">
        
            YouTube + HTML5 = PROFIT
            <small>13 Apr 2015</small>
          </a>
        </h3>
      </li>
    
      <li>
        <h3>
        
          <a href="/2015/04/10/introducing-myself/">
        
            Introducing myself
            <small>10 Apr 2015</small>
          </a>
        </h3>
      </li>
    
  </ul>
</div>

      </div>
    </div>

    <label for="sidebar-checkbox" class="sidebar-toggle"></label>

    <script>
      (function(document) {
        var toggle = document.querySelector('.sidebar-toggle');
        var sidebar = document.querySelector('#sidebar');
        var checkbox = document.querySelector('#sidebar-checkbox');

        document.addEventListener('click', function(e) {
          var target = e.target;

          if(!checkbox.checked ||
             sidebar.contains(target) ||
             (target === checkbox || target === toggle)) return;

          checkbox.checked = false;
        }, false);
      })(document);
    </script>
    

  </body>
</html>
